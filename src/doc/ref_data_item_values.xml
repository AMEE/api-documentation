<?xml version="1.0"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V5.0//EN" 
  "http://www.docbook.org/xml/5.0/dtd/docbook.dtd"
[
<!ENTITY % sgml.features "IGNORE">
<!ENTITY % xml.features "INCLUDE">
<!ENTITY % dbcent PUBLIC "-//OASIS//ENTITIES DocBook Character Entities V4.5//EN" "/opt/local/share/xml/docbook/4.5/dbcentx.mod">
%dbcent;
]>

<section xml:id='data-item-value-reference' xmlns:xi="http://www.w3.org/2001/XInclude">
	<title>Data Item Values</title>
  <para>
    Data Item Values belong to Data Items. Each Data Item Value represents a distinct value 
    such as 'energyConsumption', or 'kgCO2PerkWh'.
  </para>
  <para>
    Data Item Values themselves are rarely used, as all information in them normally appears
    in their parent Data Item.
  </para>
  <section>
  	<title>Properties</title>
		<table class='properties'>
			<tr>
				<th>Property</th>
				<th>Description</th>
			</tr>
			<tr>					
				<td>UID</td>
				<td>A 12-letter unique identifier for the data item. See <xref linkend='uid-reference'/> for more information.</td>
			</tr>
			<tr>					
				<td>created</td>
				<td>The time and date on which the item was created.</td>
			</tr>
			<tr>					
				<td>modified</td>
				<td>The time and date on which the item was last modified.</td>
			</tr>
			<tr>					
				<td>value</td>
				<td>The current value for the Data Item.</td>
			</tr>
		</table>
	</section>
	<section xml:id='get-data-item-value-reference'>
		<title>Get Single Value</title>
		<para>
			Fetches a representation of a single data item value.
		</para>
		<table class='requestdetails'>
			<tr><td>URL</td><td>https://{server}.amee.com/data/{category_path}/{data_item_uid}/{value_name}</td></tr>
			<tr><td>HTTP Method</td><td>GET</td></tr>
			<tr><td>Response Content-Type</td><td>application/xml or application/json</td></tr>
			<tr><td>Successful Response Code</td><td>200 OK</td></tr>
		</table>
		<para>
		  The response contains a JSON or XML encoded description of the data item.
	  </para>
		<section role='tabbed'>
		  <section role='tab'>
  			<title>JSON</title>
  			<section role='httprequest'>
  			  <programlisting role='header'>
GET /data/transport/plane/generic/FFC7A05D54AD/kgCO2PerPassengerJourney HTTP/1.1
Accept: application/json
Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=
          </programlisting>
    		</section>
  			<section role='httpresponse'>
  			  <programlisting role='header'>
HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8
          </programlisting>
          <programlisting role='json-body'><xi:include href='samples/json/get_data_item_value.js' parse="text"/></programlisting>
		    </section>
  		</section>
		  <section role='tab'>
  			<title>XML</title>
  			<section role='httprequest'>
  			  <programlisting role='header'>
GET /data/transport/plane/generic/FFC7A05D54AD/kgCO2PerPassengerJourney HTTP/1.1
Accept: application/xml
Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=
          </programlisting>
    		</section>
  			<section role='httpresponse'>
  			  <programlisting role='header'>
HTTP/1.1 200 OK
Content-Type: application/xml; charset=UTF-8
          </programlisting>
          <programlisting role='xml-body'><xi:include href='samples/xml/get_data_item_value.xml' parse="text"/></programlisting>
		    </section>
  		</section>
		</section>
	</section>
</section>
<?xml version="1.0"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V5.0//EN" 
  "http://www.docbook.org/xml/5.0/dtd/docbook.dtd"
[
<!ENTITY % sgml.features "IGNORE">
<!ENTITY % xml.features "INCLUDE">
<!ENTITY % dbcent PUBLIC "-//OASIS//ENTITIES DocBook Character Entities V4.5//EN" "/opt/local/share/xml/docbook/4.5/dbcentx.mod">
%dbcent;
]>

<section xml:id='data-item-reference' xmlns:xi="http://www.w3.org/2001/XInclude">
	<title>Data Items</title>
  <para>
    A Data Item represents a single type of energy usage which contributes to CO2 emissions.
    Data Items provide the data required to perform emissions calculations for Profile Items.
  </para>
  <para>
    For example, a particular Data Item could represent an average sized petrol car. 
    You could create a Profile Item associated with this Data Item, which would specify
    that a user has an average sized petrol car. You could set extra parameters in this
    Profile Item to specify information such as that the car is driven 5000 kilometres per year.
  </para>
  <para>
    Each Data Item can have several Data Item Values (distance, for instance).
  </para>
	<section>
		<title>Properties</title>
		<table class='properties'>
			<tr>
				<th>Property</th>
				<th>Description</th>
			</tr>
			<tr>					
				<td>UID</td>
				<td>A 12-letter unique identifier for the data item. See <xref linkend='uid-reference'/> for more information.</td>
			</tr>
			<tr>					
				<td>created</td>
				<td>The time and date on which the item was created.</td>
			</tr>
			<tr>					
				<td>modified</td>
				<td>The time and date on which the item was last modified.</td>
			</tr>
			<tr>					
				<td>name</td>
				<td>A display name for this Data Item. This is not always used and 
				  will default to the UID.</td>
			</tr>
			<tr>					
				<td>path</td>
				<td>The path segment for this Data Item within the URL path. 
				  This is not always used and will default to the UID.</td>
			</tr>
		</table>
	</section>
	<section xml:id='get-data-item-reference'>
		<title>Get Data Item</title>
		<para>
			Fetches a representation of a data item.
		</para>
		<table class='requestdetails'>
			<tr><td>URL</td><td>https://{server}.amee.com/data/{category_path}/{data_item_uid}</td></tr>
			<tr><td>HTTP Method</td><td>GET</td></tr>
			<tr><td>Response Content-Type</td><td>application/xml or application/json</td></tr>
			<tr><td>Successful Response Code</td><td>200 OK</td></tr>
		</table>
		<para>
		  The response contains a JSON or XML encoded description of the data item.
	  </para>
		<section role='tabbed'>
		  <section role='tab'>
  			<title>JSON</title>
  			<section role='httprequest'>
  			  <programlisting role='header'>
GET /data/transport/plane/generic/FFC7A05D54AD HTTP/1.1
Accept: application/json
Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=
          </programlisting>
    		</section>
  			<section role='httpresponse'>
  			  <programlisting role='header'>
HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8
          </programlisting>
          <programlisting language='javascript'><xi:include href='samples/json/get_data_item.js' parse="text"/></programlisting>
		    </section>
  		</section>
		  <section role='tab'>
  			<title>XML</title>
  			<section role='httprequest'>
  			  <programlisting role='header'>
GET /data/transport/plane/generic/FFC7A05D54AD HTTP/1.1
Accept: application/xml
Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=
          </programlisting>
    		</section>
  			<section role='httpresponse'>
  			  <programlisting role='header'>
HTTP/1.1 200 OK
Content-Type: application/xml; charset=UTF-8
          </programlisting>
          <programlisting language='xml'><xi:include href='samples/xml/get_data_item.xml' parse="text"/></programlisting>
		    </section>
  		</section>
		</section>
	</section>
</section>
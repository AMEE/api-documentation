<?xml version="1.0"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V5.0//EN" 
  "http://www.docbook.org/xml/5.0/dtd/docbook.dtd"
[
<!ENTITY % translations   SYSTEM "translations.xml">
%translations;
]>
<chapter xmlns:xi="http://www.w3.org/2001/XInclude" xml:id='quickstart'>
  <title>Quick Start</title>
  <para>
    If you want to calculate carbon emissions (or other sustainability metrics) in your applications, &api_name; is for you.
	This guide will give you the bare minimum you need to get going.
  </para>
  <section xml:id='getting-started'>
    <title>Getting Started</title>
    <para>
      Before you start, you'll need an API key. You can get one for free at <ulink url="https://my.amee.com/signup"/>. 
	  This API key will let you use the AMEE staging platform (platform-api-stage.amee.com), which is intended for use during development.
    </para>
    <para>
      &api_name; is a RESTful API, with HTTP requests for all actions, and uses standard methods of authentication
	  and response selection. Use <emphasis>HTTP Basic</emphasis> authentication, and specify whether you want XML 
	  or JSON responses using the <emphasis>Accept</emphasis> header.
    </para>
  </section>
  <section xml:id='quick-choose-data-item'>
    <title>Find your emissions model</title>
    <para>
      The first step is to choose which emissions model you want to use for your calculation.
	</para>
	<para>
	  <ulink url="http://discover.amee.com">AMEEdiscover</ulink> lists all the possible models available in AMEE 
	  (over 8 million!), with rich searching and tagging functionality to make it easy to find what you want.
	</para>
	<para>
	  For instance, to do a flight calculation, you might start by <ulink url='http://discover.amee.com/search/flights'>searching
	  for flights</ulink>. By looking through the search results, you can see that the
	  <ulink url='http://discover.amee.com/categories/Great_Circle_flight_methodology'>Great Circle flight methodology</ulink> category
	  deals with flights between two locations. Let's try that one.
	</para>
	<para>
	  There are two pieces of information required to identify an emissions model. The first is the <emphasis>category name</emphasis>. This
	  can be found on the Developer page for the category, and it's also part of the URL in AMEEdiscover. In this case, it's
	  <emphasis>Great_Circle_flight_methodology</emphasis>.
	</para>
	<para>
	  The second are the <emphasis>drilldown options</emphasis>. Each category can contain a number of models, each of which is a variant 
	  on a single calculation; different input values if you like. Each of these is identified by a series of drilldown options. The best way to
	  get these is to use the <ulink url='http://discover.amee.com/categories/Great_Circle_flight_methodology/data/developer'>developer tab</ulink>
	  and copy the drill options. In this case, the drill option we want is <emphasis>type=great+circle+route</emphasis>.
	</para>
	<para>
	  You now have all the information you need to make a drilldown request and get the identifier (UID) for the actual emissions model.
    </para>
		<section role='tabbed'>
  		<section role='tab'>
  			<title>curl</title>
   			<section role='httprequest'>
			  <programlisting>
$ curl 'https://platform-api-stage.amee.com/3/categories/Great_Circle_flight_methodology/drill?type=great+circle+route' \
    -H 'Accept: application/xml' \
    -u username:password -s | \
    xpath '//Choices/Values/Value/text()'
              </programlisting>
 	  	    </section>
   			<section role='httpresponse'>
			  <programlisting>
Found 1 nodes:
-- NODE --
2EC340002E72
            </programlisting>
	  	  </section>
  		</section>
		<xi:include href="samples/json/get_3_categories_Great_Circle_flight_methodology_drill_type=great circle route.xml"/>
		<xi:include href="samples/xml/get_3_categories_Great_Circle_flight_methodology_drill_type=great circle route.xml"/>
	</section>
	<para>
	  The response contains the UID of the emissions model, in this case 2EC340002E72.
    </para>
  </section>
  <section xml:id='quick-do-calculation'>
    <title>Do the calculation</title>
    <para>
      Now we can actually perform the calculation. 
	</para>
	<para>
	  You simply do a GET request to URL that represents the emissions model you've chosen, which is made up of the category path
	  and the UID you just fetched, and include some parameters for your input values. These are different for every category, 
	  but again you can grab them from the code tab in AMEEdiscover.
    </para>
	<para>
	  In this case there are two required parameters, <emphasis>IATACode1</emphasis> and <emphasis>IATACode2</emphasis>, 
	  which let us put in airport codes for the two endpoints of our flight.
	</para>
	
	  <section role='tabbed'>
  		<section role='tab'>
  			<title>curl</title>
   			<section role='httprequest'>
			  <programlisting>
$ curl 'https://platform-api-stage.amee.com/3/categories/Great_Circle_flight_methodology/items/2EC340002E72/calculation?IATAcode1=LHR&amp;IATAcode2=LAX' \
    -H 'Accept: application/xml' \
    -u username:password -s | \
    xpath '//Amounts/Amount'
              </programlisting>
 	  	    </section>
   			<section role='httpresponse'>
			  <programlisting>
Found 7 nodes:
&lt;Amount default="true" perUnit="" type="totalDirectCO2e" unit="kg"&gt;
  1064.491020315156
&lt;/Amount&gt;
&lt;Amount perUnit="" type="distance" unit="km"&gt;
  9550.430830030109
&lt;/Amount&gt;
&lt;Amount perUnit="" type="lifeCycleCO2e" unit="kg"&gt;
  1260.561365255674
&lt;/Amount&gt;
&lt;Amount perUnit="" type="CO2" unit="kg"&gt;
  1054.0810507104231
&lt;/Amount&gt;
&lt;Amount perUnit="" type="nitrousOxideCO2e" unit="kg"&gt;
  10.409969604732819
&lt;/Amount&gt;
&lt;Amount perUnit="" type="methaneCO2e" unit="kg"&gt;
  0.0955043083003011
&lt;/Amount&gt;
&lt;Amount perUnit="" type="indirectCO2e" unit="kg"&gt;
  196.07034494051814
&lt;/Amount&gt;
              </programlisting>
 	  	    </section>
	  	</section>
		<xi:include href="samples/json/get_3_categories_Great_Circle_flight_methodology_items_UID_calculation_IATAcode1=LHR_IATAcode2=LAX.xml"/>
		<xi:include href="samples/xml/get_3_categories_Great_Circle_flight_methodology_items_UID_calculation_IATAcode1=LHR_IATAcode2=LAX.xml"/>
    </section>
    <para>
	  And that's it! You've just done your first calculation using &api_name;. London to LA: 1065kg of emissions (as shown in the 
	  default amount).
    </para>
    <para>
      This is, of course, only a quick overview. The rest of this documentation goes into much more detail on what it all means
	  and what more you can do with it, whether you want to just grab the input factors, or build up complex histories over time.
    </para>
  </section>
</chapter>
<?xml version="1.0"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V5.0//EN" 
  "http://www.docbook.org/xml/5.0/dtd/docbook.dtd"
[
<!ENTITY % translations   SYSTEM "translations.ent">
%translations;
]>
<chapter xmlns:xi="http://www.w3.org/2001/XInclude" xml:id='quickstart'>
  <title>Quick Start</title>
  <para>
    If you want to calculate carbon emissions (or other sustainability metrics) in your applications, &api_name; is for you.
	This guide will give you the bare minimum you need to get going.
  </para>
  <section xml:id='getting-started'>
    <title>Getting Started</title>
    <para>
      Before you start, you'll need a free API key, which you can get by signing up at <ulink url="https://my.amee.com/signup"/>.
    </para>
    <para>
      &api_name; is a RESTful API, with HTTP requests for all actions, and uses standard methods of authentication
	  and response selection. Use <emphasis>HTTP Basic</emphasis> authentication, and specify whether you want XML 
	  or JSON responses using the <emphasis>Accept</emphasis> header.
    </para>
  </section>
  <section xml:id='quick-choose-data-item'>
    <title>Choose Your <phrase role='titleize'>&category;</phrase></title>
    <para>
      The first step is to choose which &category; you want to use for calculation.
	</para>
	<para>
	  <ulink url="&discover_url;">&discover;</ulink> has information on all the &categories; available in AMEE 
	  (over 8 million!), with rich searching and tagging functionality to make it easy to find what you want.
	</para>
	<para>
	  For instance, to work out emissions for a flight, you would start by <ulink url='&discover_url;/search/flights'>searching
	  for flights</ulink>. By looking through the results, you can see that the
	  <ulink url='&discover_url;/categories/Great_Circle_flight_methodology'>Great Circle flight methodology</ulink> &category;
	  deals with flights between two locations. Let's try that one.
	</para>
	<para>
	  To do a calculation you need two things. First is the <emphasis>&category; name</emphasis>. This
	  can be found on the <ulink url='&discover_url;/categories/Great_Circle_flight_methodology&developer_tab_path;'>&developer_tab;</ulink> for the &category;, 
	  and it's also part of the URL in &discover;. In this case, it's <code>Great_Circle_flight_methodology</code>.
	</para>
	<para>
	  The second are the <emphasis>&drill_options;</emphasis>. Each &category; can contain a number of different &data_items;, each of which is a variant 
	  on a single calculation; different input values if you like. Each of these is identified by a set of &drill_options;. Again, these are shown on
	  the <ulink url='&discover_url;/categories/Great_Circle_flight_methodology&developer_tab_path;'>&developer_tab;</ulink> for the &category;. 
	  For this &category;, there is only one &data_item;, so the &drill_options; are just <code>type=great+circle+route</code>.
	</para>
  </section>
  <section xml:id='quick-do-calculation'>
    <title>Do the Calculation</title>
    <para>
      Now we can actually perform the calculation. 
	</para>
	<para>
	  You simply do a GET request to the URL that represents the &category; you've chosen, which includes the &category; name,
	  and you include the &drill_options; as parameters in order to identify the &data_item;. You also include some &profile_item_value; parameters; 
	  these are different for every category, but again the 
	  <ulink url='&discover_url;/categories/Great_Circle_flight_methodology&developer_tab_path;'>&developer_tab;</ulink> will tell you what they are.
    </para>
	<para>
	  In this case there are two required &profile_item_values;, <code>values.IATACode1</code> and <code>values.IATACode2</code>, 
	  which let us put in airport codes for the two endpoints of our flight.
	</para>
	
	  <section role='tabbed'>
  		<section role='tab'>
  			<title>curl</title>
   			<section role='httprequest'>
			  <programlisting>
$ curl '&api_url;/&api_version;/categories/Great_Circle_flight_methodology/calculation?type=great+circle+route&amp;values.IATAcode1=LHR&amp;values.IATAcode2=LAX' \
    -H 'Accept: application/xml' \
    -u username:password -s | \
    xpath '//Amounts/Amount'
              </programlisting>
 	  	    </section>
   			<section role='httpresponse'>
			  <programlisting>
Found 7 nodes:
&lt;Amount default="true" type="totalDirectCO2e" unit="kg"&gt;
  1064.491020315156
&lt;/Amount&gt;
&lt;Amount type="distance" unit="km"&gt;
  9550.430830030109
&lt;/Amount&gt;
&lt;Amount type="lifeCycleCO2e" unit="kg"&gt;
  1260.561365255674
&lt;/Amount&gt;
&lt;Amount type="CO2" unit="kg"&gt;
  1054.0810507104231
&lt;/Amount&gt;
&lt;Amount type="nitrousOxideCO2e" unit="kg"&gt;
  10.409969604732819
&lt;/Amount&gt;
&lt;Amount type="methaneCO2e" unit="kg"&gt;
  0.0955043083003011
&lt;/Amount&gt;
&lt;Amount type="indirectCO2e" unit="kg"&gt;
  196.07034494051814
&lt;/Amount&gt;
              </programlisting>
 	  	    </section>
	  	</section>
		<xi:include href="samples/json/get_categories_Great_Circle_flight_methodology_calculation_type=great circle route_values.IATAcode1=LHR_values.IATAcode2=LAX.xml"/>
		<xi:include href="samples/xml/get_categories_Great_Circle_flight_methodology_calculation_type=great circle route_values.IATAcode1=LHR_values.IATAcode2=LAX.xml"/>
    </section>
    <para>
	  And that's it! You've just done your first calculation using &api_name;. London to LA: 1065kg of emissions (as shown in the 
	  default &return_value;, in the Amount tags).
    </para>
    <para>
      This is, of course, only a quick overview. The rest of this documentation goes into much more detail on what it all means
	  and what more you can do with it, whether you want to just grab the &data_item_values;, or build up complex histories over time.
    </para>
  </section>
</chapter>
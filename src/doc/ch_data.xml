<?xml version="1.0"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V5.0//EN" 
  "http://www.docbook.org/xml/5.0/dtd/docbook.dtd"
[
<!ENTITY % translations   SYSTEM "translations.ent">
%translations;
]>

<chapter xmlns:xi="http://www.w3.org/2001/XInclude" xml:id='data'>
  <title>Get <phrase role='titleize'>&data_item_values;</phrase></title>
  <para>
    If you just want access to authoritative &data_item_values;, we have you covered. Using &discover; and 
    &api_name;, you can wire the latest data straight into the heart of your application.
  </para>
  <section xml:id='&categories;'>
    <title><phrase role='titleize'>&categories;</phrase> and <phrase role='titleize'>&data_items;</phrase></title>
    <para>
      First, a couple of definitions; in &api_name;, a <glossterm>&category;</glossterm> represents a way of calculating something. 
	  For example, a method of working out car transport emissions, or electricity emissions for different
	  countries. Each has a set of inputs, outputs, constants, and an algorithm. 
    </para>
	<para>
	  If there are two ways to calculate something, perhaps from different sources or applicable to different 
	  standards, each one will be a separate &category;. For instance, searching &discover; for
	  "flights" brings up a number of options which calculate emissions in different ways.
	</para>
    <para>
	  Each &category; contains a number of different <glossterm>&data_items;</glossterm>, which offer specific variations of the
	  &category;. For instance, a &category; could represent the calculation for electricity in different countries; 
	  it will have &data_items; for each country, each of which will have different emission factors.
    </para>
  </section>
  <section xml:id='ameediscover'>
    <title>Using &discover;</title>
    <para>
      Choosing which &categories; you want to use will be one of the first things 
      you will do when you come to use &api_name;. Your choice will depend on what data you are collecting from your users,
	  reporting requirements, and so on.
    </para>
    <para>
      Each &category; is individually documented in <ulink url='&discover_url;'>&discover;</ulink>, with a page that describes how it works, where 
	  it came from, relationships with other &categories;, and so on. &discover; includes powerful search and 
	  tagging capabilities, making it easy to find the &categories; that are relevant to your application.
    </para>
    <!--><para>
      The &developer_tab; for a &category; in &discover; shows all the information you need to use it with &api_name;.
	  It shows the &category; name, allows you to interactively select which &data_item; you want to use, tells you which 
	  &profile_item_values; are required, gives you all the required URL options, and even generates code for you in a 
	  variety of languages.
    </para>-->
  </section>
  <section xml:id='get-data-items'>
    <title>Fetching <phrase role='titleize'>&data_item_values;</phrase></title>
    <para>
      To get &data_item_values; from &api_name;, you need to identify the &category; and &data_item; you are interested in. You 
	  then do a GET request in the following format to the appropriate API base URL (initially <code>&api_url;</code>). Note 
	  that the &category; name is included in the URL, and the &drill_options;
	  are provided as parameters. Note also the inclusion of the <code>values</code> matrix parameter in the URL. See the <xref linkend='matrix-parameters'/>
	  for more details on what matrix parameters are and how they work.
    </para>
	<xi:include href='samples/get_categories_DEFRA_transport_fuel_methodology_items;values_fuel=petrol.xml' />
    <para>	  
      Each value in the response represents a single &data_item_value; or other data. If you want to know how much CO2 is emitted 
	  per litre of petrol, the <code>massTotalCO2ePerVolume</code> value would be the most useful.
      This shows that the factor is 2.7227 kg/L. Alternatively, <code>massCH4PerVolume</code> shows that 0.0034 kg of 
	  methane is produced for every litre
      of fuel. The names will vary between &categories;, so you can't assume that the names are always the same; check the &discover; documentation.
    </para>
    <para>	  
      Note that if you provide an incomplete set of &drill_options; or even none at all, you will get back a list of all &data_items; that match the 
	  options you provided. See <xref linkend='list-data-item-reference'/> for more details.
    </para>
  </section>
  <para>
    <phrase role='capitalize'>&data_item_values;</phrase> are good, but it's more often useful to get AMEE to do the entire calculation 
	for you. Many algorithms are much more complex than <code>a*b</code>, and you really don't want to implement them all yourself. We'll look at 
	calculations in the next section.
  </para>
</chapter>